{% load static %}
<html>
<head>
    <title>OAuth2 Sample App - Intuit</title>
    <link rel="stylesheet" type="text/css" href="{% static "style.css" %}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        if (window.opener) {
            window.opener.location.href = '/sampleAppOAuth2/connected'
            window.close()
        }
    </script>
    <script>
        function createReport() {
            $("#result").html('Loading...')
            $.get("/sampleAppOAuth2/createReport", function (data) {
                $("#result").html(data)
            })
        }

        function apiCall() {
            $("#result").html('Loading...')
            $.get("/sampleAppOAuth2/apiCall", function (data) {
                $("#result").html(data)
            })
        }

        function revokeCall() {
            $("#result").html('Loading...')
            $.get("/sampleAppOAuth2/disconnect", function (data) {
                $("#result").html(data)
            })
        }

        function refreshCall() {
            $("#result").html('Loading...')
            $.get("/sampleAppOAuth2/refreshTokenCall", function (data) {
                $("#result").html(JSON.stringify(data, null, 2))
            })
        }
        
        function apiProfitAndLoss() {
            $("#result").html('Loading...')
            $.get("/sampleAppOAuth2/apiProfitAndLoss", function (data) {
                $("#result").html(data)
            })
        }
        function apiBalanceSheet() {
            $("#result").html('Loading...')
            $.get("/sampleAppOAuth2/apiBalanceSheet", function (data) {
                $("#result").html(data)
            })
        }
        function apiAccountListDetail() {
            $("#result").html('Loading...')
            $.get("/sampleAppOAuth2/apiAccountListDetail", function (data) {
                $("#result").html(data)
            })
        }


    </script>
</head>
<body>
<a href="/sampleAppOAuth2/">Home</a>
<h3>Connected!</h3>
<p>Welcome {{ first_name }}!</p>
<p>Would you like to make a sample API call?</p>
<div>
    <button onclick="createReport()">Create Report</button>
    <br><br>
    <button onclick="apiCall()">QuickBooks API Call</button>
    <button onclick="refreshCall()">Refresh Token Call</button>
    <button onclick="revokeCall()">Revoke Token Call</button>
    <br> <br>
    <button onclick="apiProfitAndLoss()">API-1-ProfitAndLoss</button>
    <button onclick="apiBalanceSheet()">API-2-BalanceSheet</button>
    <button onclick="apiAccountListDetail()">API-3-AccountListDetail</button>
    <br>
    <br>
    <div><code id="result"></code></div>
</div>
</body>
</html>
